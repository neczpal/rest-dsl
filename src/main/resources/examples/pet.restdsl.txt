resource Pet as crud {
    path: "/pet"
    model: Pet

    // Implicitly generated by 'as crud':
    // POST /pet (create)
    // PUT /pet (update)
    // GET /pet/{id} (getById)
    // DELETE /pet/{id} (delete)

    // Extra Actions:
    action findByStatus(status: List<PetStatus>) -> List<Pet> {
        method: GET
        path: "/findByStatus"
        responses: 200 | 400
    }

    action findByTags(tags: List<String>) -> List<Pet> {
        method: GET
        path: "/findByTags"
        responses: 200 | 400
    }

    // Overriding standard update with form data
    action updateWithForm(petId: Int, name: String, status: String) -> Pet {
        method: POST
        path: "/{petId}"
        responses: 200 | 400
    }

    action uploadImage(petId: Int, additionalMetadata: String, file: Binary) -> ApiResponse {
        method: POST
        path: "/{petId}/uploadImage"
        responses: 200 | 400 | 404
    }
}